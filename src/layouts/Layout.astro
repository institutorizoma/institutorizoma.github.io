---
import { SEO } from "astro-seo";
import Footer from "@components/footer.astro";
import Navbar from "@components/navbar/navbar.astro";
import WhatsappFloat from "@components/whatsapp-float.astro";
import { SITE_CONFIG } from "@/config";
import "@fontsource-variable/inter/index.css";
import '@fontsource-variable/bricolage-grotesque';



export interface Props {
  title: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site).toString();

const resolvedImageWithDomain = new URL(
  "/opengraph.jpg",
  Astro.site
).toString();

const { title } = Astro.props;

const makeTitle = title
  ? title + " | " + "Instituto Rizoma"
  : SITE_CONFIG.COMPANY_NAME;
---

<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="google-site-verification" content="4qA71ymVmyT2jw_p_kmKyzA7xJYQoEflHMH1NpfSaB0" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-964101777"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-964101777');
    </script>

    <!-- <link rel="preload" as="image" href={src} alt="Hero" /> -->
    <meta name="description" content={SITE_CONFIG.DEFAULT_META.description} />
    <meta name="keywords" content={SITE_CONFIG.DEFAULT_META.keywords} />
    <meta name="author" content={SITE_CONFIG.COMPANY_NAME} />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#b8c1a1" />
    <link rel="canonical" href={canonicalURL} />

    <SEO
      title={makeTitle}
      description={SITE_CONFIG.DEFAULT_META.description}
      canonical={canonicalURL}
      openGraph={{
        basic: {
          url: canonicalURL,
          type: "website",
          title: makeTitle,
          image: resolvedImageWithDomain,
        },
        image: {
          alt: "Instituto Rizoma de Saúde Integral - Cuidado multidisciplinar em saúde mental",
        },
        optional: {
          description: "Instituto Rizoma oferece atendimento em psicologia, psiquiatria, grupos terapêuticos e medicina de família com foco no cuidado humanizado e personalizado em Campinas, SP.",
          locale: "pt_BR",
          siteName: "Instituto Rizoma de Saúde Integral"
        }
      }}
    />

    <!-- Structured Data for Local Business -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalOrganization",
      "name": "Instituto Rizoma de Saúde Integral",
      "description": "Instituto de saúde mental oferecendo cuidado multidisciplinar com psicologia, psiquiatria e medicina de família",
      "url": "https://institutorizoma.github.io",
      "logo": "https://institutorizoma.github.io/src/assets/rizoma-horizontal.png",
      "image": "https://institutorizoma.github.io/src/assets/rizoma-logo.png",
      "telephone": "+55-19-99639-5866",
      "email": "institutorizomasi@gmail.com",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "R. Maria Ferreira Antunes, 26",
        "addressLocality": "Campinas",
        "addressRegion": "SP",
        "postalCode": "13084-180",
        "addressCountry": "BR"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "-22.8649",
        "longitude": "-47.0739"
      },
      "openingHours": "Mo-Fr 08:00-18:00",
      "medicalSpecialty": [
        "Psychology",
        "Psychiatry",
        "Family Medicine"
      ],
      "serviceArea": {
        "@type": "City",
        "name": "Campinas"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Serviços de Saúde Mental",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "MedicalTherapy",
              "name": "Psicoterapia Individual"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "MedicalTherapy",
              "name": "Avaliação Psiquiátrica"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "MedicalTherapy",
              "name": "Grupos Terapêuticos"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "MedicalTherapy",
              "name": "Medicina de Família"
            }
          }
        ]
      }
    }
    </script>
  </head>
  <body class="text-primaryText bg-background pt-20">
    <Navbar />
    <slot />
    <Footer />
    <WhatsappFloat />
    <style is:global>
      /* Improve Page speed */
      /* https://css-tricks.com/almanac/properties/c/content-visibility/ */
      img {
        content-visibility: auto;
      }
    </style>
  </body>
</html>
